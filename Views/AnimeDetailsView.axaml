<UserControl
    x:Class="Aniki.Views.AnimeDetailsView"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:models="clr-namespace:Aniki.Models;assembly=Aniki"
    xmlns:mal="clr-namespace:Aniki.Models.MAL;assembly=Aniki"
    xmlns:views="clr-namespace:Aniki.Views;assembly=Aniki"
    xmlns:asyncImageLoader="clr-namespace:AsyncImageLoader;assembly=AsyncImageLoader.Avalonia"
    xmlns:vm="clr-namespace:Aniki.ViewModels;assembly=Aniki"
    x:DataType="vm:AnimeDetailsViewModel">
    <Border
        x:Name="Root"
        Padding="0"
        Background="{StaticResource BackgroundBlack}">
        <Grid>
            <TabControl x:Name="MainTabControl"
                        Padding="0" 
                        Margin="0"
                        TabStripPlacement="Top">
                <TabControl.Styles>
                    <Style Selector="TabControl">
                        <Setter Property="Background" Value="Transparent"/>
                    </Style>
                    <Style Selector="TabItem">
                        <Setter Property="IsVisible" Value="False"/>
                    </Style>
                </TabControl.Styles>
                
                <!-- Details Tab -->
                <TabItem>
                    <ScrollViewer Padding="0" Margin="0">
                        <Grid RowDefinitions="Auto,Auto">
                            <!-- Hero Section with Blurred Background -->
                            <Grid Row="0" Height="600" Margin="0">
                                <!-- Blurred Background Image -->
                                <Image asyncImageLoader:ImageLoader.Source="{Binding Details.MainPicture.Large}"
                                       Stretch="UniformToFill"
                                       Height="550"
                                       VerticalAlignment="Top">
                                    <Image.Effect>
                                        <BlurEffect Radius="35"/>
                                    </Image.Effect>
                                </Image>
                                
                                <!-- Dark Overlay -->
                                <Border Background="#AA000000" />
                                
                                <!-- Main Content Grid -->
                                <Grid Margin="50,100,50,50">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="330"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    
                                    <Grid Grid.Column="0" RowDefinitions="Auto,Auto" Margin="0,50,0,0">
                                        <Grid Grid.Row="0" Height="495">
                                            <!-- Poster -->
                                            <Border CornerRadius="12"
                                                    BoxShadow="0 10 40 #80000000"
                                                    Width="330"
                                                    Height="495"
                                                    ClipToBounds="True"
                                                    VerticalAlignment="Top">
                                                <Image asyncImageLoader:ImageLoader.Source="{Binding Details.MainPicture.Large}"
                                                       Stretch="UniformToFill"/>
                                            </Border>
                                            
                                            <!-- Rating Badge -->
                                            <Border Background="#1F1F1F"
                                                    CornerRadius="20"
                                                    Padding="16,10"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Bottom"
                                                    Margin="0,0,0,-20"
                                                    BoxShadow="0 4 12 #40000000">
                                                <StackPanel Orientation="Horizontal" Spacing="8">
                                                    <PathIcon Data="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"
                                                              Width="20"
                                                              Height="20"
                                                              Foreground="#FFD700"/>
                                                    <TextBlock Text="{Binding Details.Mean, StringFormat='{}{0:0.0}'}"
                                                               FontSize="20"
                                                               FontWeight="Bold"
                                                               Foreground="White"
                                                               VerticalAlignment="Center"/>
                                                </StackPanel>
                                            </Border>
                                        </Grid>
                                        
                                        <StackPanel Grid.Row="1" Margin="0, 50, 0, 0">
                                            <ProgressBar Height="8"
                                                         Value="{Binding WatchedEpisodes}"
                                                         Maximum="{Binding Details.NumEpisodes}"
                                                         Background="#333333"
                                                         Foreground="#E50914"
                                                         CornerRadius="4"/>
                                            <Grid Margin="0, 8, 0, 0">
                                                <TextBlock HorizontalAlignment="Left"
                                                           Text="{Binding WatchedEpisodes, StringFormat='{}Watched: {0}'}"
                                                           Foreground="#AAAAAA"
                                                           FontSize="12"/>
                                                <TextBlock HorizontalAlignment="Right"
                                                           Text="{Binding Details.NumEpisodes, StringFormat='{}Total: {0}'}"
                                                           Foreground="#AAAAAA"
                                                           FontSize="12"/>
                                            </Grid>
                                            <StackPanel Orientation="Horizontal" Spacing="8" HorizontalAlignment="Center">
                                                <Button
                                                    Command="{Binding DecrementWatchedEpisodesCommand}"
                                                    Background="#00000000"
                                                    Foreground="White"
                                                    Width="40" Height="40"
                                                    CornerRadius="20"
                                                    BorderThickness="0"
                                                    Cursor="Hand">
                                                    <Image Source="{SvgImage /Resources/Icons/minus_icon.svg}" Width="20" Height="20" />
                                                </Button>
                                                <TextBlock Text="{Binding WatchedEpisodes}" VerticalAlignment="Center" Margin="8,0"/>
                                                <Button
                                                    Command="{Binding IncrementWatchedEpisodesCommand}"
                                                    Background="#00000000"
                                                    Foreground="White"
                                                    Width="40" Height="40"
                                                    CornerRadius="20"
                                                    BorderThickness="0"
                                                    Cursor="Hand">
                                                    <Image Source="{SvgImage /Resources/Icons/add_icon.svg}" Width="20" Height="20" />
                                                </Button>
                                            </StackPanel>
                                        </StackPanel>
                                        
                                        <!-- Anime Stats -->
                                        <Border Grid.Row="1"
                                                Margin="0,130,0,15"
                                                Background="Transparent"
                                                CornerRadius="8"
                                                Padding="15">
                                            <UniformGrid Columns="3" Rows="2" HorizontalAlignment="Center" RowSpacing="20">
                                                <!-- Watching -->
                                                <StackPanel Spacing="4" HorizontalAlignment="Center" Margin="10,0">
                                                    <TextBlock Text="{Binding Details.Statistics.Status.Watching, Converter={StaticResource StringToFormattedIntConverter}}"
                                                               FontSize="16"
                                                               FontWeight="Bold"
                                                               Foreground="White"
                                                               HorizontalAlignment="Center"/>
                                                    <TextBlock Text="Watching"
                                                               FontSize="12"
                                                               Foreground="#999999"
                                                               HorizontalAlignment="Center"/>
                                                </StackPanel>
                                                
                                                <!-- Completed -->
                                                <StackPanel Spacing="4" HorizontalAlignment="Center" Margin="10,0">
                                                    <TextBlock Text="{Binding Details.Statistics.Status.Completed, Converter={StaticResource StringToFormattedIntConverter}}"
                                                               FontSize="16"
                                                               FontWeight="Bold"
                                                               Foreground="White"
                                                               HorizontalAlignment="Center"/>
                                                    <TextBlock Text="Completed"
                                                               FontSize="12"
                                                               Foreground="#999999"
                                                               HorizontalAlignment="Center"/>
                                                </StackPanel>

                                                <!-- Plan to Watch -->
                                                <StackPanel Spacing="4" HorizontalAlignment="Center" Margin="10,0">
                                                    <TextBlock Text="{Binding Details.Statistics.Status.PlanToWatch, Converter={StaticResource StringToFormattedIntConverter}}"
                                                               FontSize="16"
                                                               FontWeight="Bold"
                                                               Foreground="White"
                                                               HorizontalAlignment="Center"/>
                                                    <TextBlock Text="Plan to Watch"
                                                               FontSize="12"
                                                               Foreground="#999999"
                                                               HorizontalAlignment="Center"/>
                                                </StackPanel>

                                                <!-- On Hold -->
                                                <StackPanel Spacing="4" HorizontalAlignment="Center" Margin="10,0">
                                                    <TextBlock Text="{Binding Details.Statistics.Status.OnHold, Converter={StaticResource StringToFormattedIntConverter}}"
                                                               FontSize="16"
                                                               FontWeight="Bold"
                                                               Foreground="White"
                                                               HorizontalAlignment="Center"/>
                                                    <TextBlock Text="On Hold"
                                                               FontSize="12"
                                                               Foreground="#999999"
                                                               HorizontalAlignment="Center"/>
                                                </StackPanel>

                                                <!-- Dropped -->
                                                <StackPanel Spacing="4" HorizontalAlignment="Center" Margin="10,0">
                                                    <TextBlock Text="{Binding Details.Statistics.Status.Dropped, Converter={StaticResource StringToFormattedIntConverter}}"
                                                               FontSize="16"
                                                               FontWeight="Bold"
                                                               Foreground="White"
                                                               HorizontalAlignment="Center"/>
                                                    <TextBlock Text="Dropped"
                                                               FontSize="12"
                                                               Foreground="#999999"
                                                               HorizontalAlignment="Center"/>
                                                </StackPanel>

                                                <!-- Favorites -->
                                                <StackPanel Spacing="4" HorizontalAlignment="Center" Margin="10,0">
                                                    <TextBlock Text="{Binding Details.NumFavorites, Converter={StaticResource StringToFormattedIntConverter}}"
                                                               FontSize="16"
                                                               FontWeight="Bold"
                                                               Foreground="White"
                                                               HorizontalAlignment="Center"/>
                                                    <TextBlock Text="Favorites"
                                                               FontSize="12"
                                                               Foreground="#999999"
                                                               HorizontalAlignment="Center"/>
                                                </StackPanel>
                                            </UniformGrid>
                                        </Border>
                                    </Grid>
                                    
                                    <StackPanel Grid.Column="1" Margin="40,0,0,50" Spacing="0" VerticalAlignment="Bottom">
                                        <!-- Title -->
                                        <TextBlock Text="{Binding Details.Title}"
                                                   FontSize="56"
                                                   FontWeight="Bold"
                                                   Foreground="White"
                                                   TextWrapping="Wrap"
                                                   Margin="0,0,0,6"/>
                                        
                                        <!-- Japanese Title + Metadata -->
                                        <StackPanel Orientation="Horizontal" Margin="0,0,0,20" Spacing="10">
                                            <TextBlock Text="{Binding Details.AlternativeTitles.Ja}"
                                                       FontSize="14"
                                                       Foreground="#AAAAAA"/>
                                            <TextBlock Text="•" 
                                                       FontSize="14"
                                                       Foreground="#777777"/>
                                            <TextBlock Text="{Binding Details.StartDate}"
                                                       FontSize="14"
                                                       Foreground="#AAAAAA"/>
                                            <TextBlock Text="•" 
                                                       FontSize="14"
                                                       Foreground="#777777"/>
                                            <TextBlock  Text="{Binding Details.NumEpisodes, StringFormat='{}{0} episodes'}"
                                                        FontSize="14"
                                                        Foreground="#AAAAAA">
                                            </TextBlock>
                                        </StackPanel>
                                        
                                        <!-- Action Buttons -->
                                        <Grid Margin="0,0,0,30">
                                            <StackPanel Orientation="Horizontal" Spacing="12" HorizontalAlignment="Left">
                                                <!-- Status Button with Dropdown -->
                                                <Button Background="#E50914" 
                                                        BorderThickness="0"
                                                        CornerRadius="6"
                                                        Padding="28,13"
                                                        Cursor="Hand"
                                                        IsVisible="{Binding Details.MyListStatus, Converter={x:Static ObjectConverters.IsNotNull}}">
                                                    <Button.Flyout>
                                                        <MenuFlyout Placement="Bottom">
                                                            <MenuItem Header="Watching" Command="{Binding UpdateStatusCommand}" CommandParameter="Watching"/>
                                                            <MenuItem Header="Completed" Command="{Binding UpdateStatusCommand}" CommandParameter="Completed"/>
                                                            <MenuItem Header="On Hold" Command="{Binding UpdateStatusCommand}" CommandParameter="OnHold"/>
                                                            <MenuItem Header="Dropped" Command="{Binding UpdateStatusCommand}" CommandParameter="Dropped"/>
                                                            <MenuItem Header="Plan to Watch" Command="{Binding UpdateStatusCommand}" CommandParameter="PlanToWatch"/>
                                                        </MenuFlyout>
                                                    </Button.Flyout>
                                                    <StackPanel Orientation="Horizontal" Spacing="10">
                                                        <PathIcon Data="M8 5v14l11-7z" 
                                                                  Width="16" 
                                                                  Height="16"
                                                                  Foreground="White"/>
                                                        <TextBlock Text="{Binding SelectedStatus}" 
                                                                   FontSize="15"
                                                                   FontWeight="SemiBold"
                                                                   Foreground="White"/>
                                                    </StackPanel>
                                                </Button>
                                                
                                                <Button Background="#E50914" 
                                                        BorderThickness="0"
                                                        CornerRadius="6"
                                                        Padding="28,13"
                                                        Cursor="Hand"
                                                        IsVisible="{Binding Details.MyListStatus, Converter={x:Static ObjectConverters.IsNull}}"
                                                        Command="{Binding AddToListCommand}">
                                                    <StackPanel Orientation="Horizontal" Spacing="10">
                                                        <PathIcon Data="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" 
                                                                  Width="16" 
                                                                  Height="16"
                                                                  Foreground="White"/>
                                                        <TextBlock Text="Add to list" 
                                                                   FontSize="15"
                                                                   FontWeight="SemiBold"
                                                                   Foreground="White"/>
                                                    </StackPanel>
                                                </Button>
                                                
                                                <!-- Rating Button with Dropdown -->
                                                <Button Background="#3A3A3A"
                                                        BorderThickness="0"
                                                        CornerRadius="6"
                                                        Padding="28,13"
                                                        Cursor="Hand">
                                                    <Button.Flyout>
                                                        <MenuFlyout Placement="Bottom">
                                                            <MenuItem Header="1" Command="{Binding UpdateScoreCommand}" CommandParameter="1"/>
                                                            <MenuItem Header="2" Command="{Binding UpdateScoreCommand}" CommandParameter="2"/>
                                                            <MenuItem Header="3" Command="{Binding UpdateScoreCommand}" CommandParameter="3"/>
                                                            <MenuItem Header="4" Command="{Binding UpdateScoreCommand}" CommandParameter="4"/>
                                                            <MenuItem Header="5" Command="{Binding UpdateScoreCommand}" CommandParameter="5"/>
                                                            <MenuItem Header="6" Command="{Binding UpdateScoreCommand}" CommandParameter="6"/>
                                                            <MenuItem Header="7" Command="{Binding UpdateScoreCommand}" CommandParameter="7"/>
                                                            <MenuItem Header="8" Command="{Binding UpdateScoreCommand}" CommandParameter="8"/>
                                                            <MenuItem Header="9" Command="{Binding UpdateScoreCommand}" CommandParameter="9"/>
                                                            <MenuItem Header="10" Command="{Binding UpdateScoreCommand}" CommandParameter="10"/>
                                                        </MenuFlyout>
                                                    </Button.Flyout>
                                                    <StackPanel Orientation="Horizontal" Spacing="10">
                                                        <PathIcon Data="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" 
                                                                  Width="16" 
                                                                  Height="16"
                                                                  Foreground="White"/>
                                                        <TextBlock Text="{Binding ScoreText}" 
                                                                   FontSize="15"
                                                                   FontWeight="SemiBold"
                                                                   Foreground="White">
                                                        </TextBlock>
                                                    </StackPanel>
                                                </Button>
                                            </StackPanel>
                                            
                                            <StackPanel Orientation="Horizontal" Spacing="12" HorizontalAlignment="Right">
                                                <Button Background="#3A3A3A"
                                                        BorderThickness="0"
                                                        Width="50"
                                                        Height="50"
                                                        CornerRadius="25"
                                                        Cursor="Hand"
                                                        Command="{Binding OpenMalPageCommand}">
                                                    <ToolTip.Tip>
                                                        <TextBlock Text="Open page in browser"/>
                                                    </ToolTip.Tip>
                                                    <Image Source="{SvgImage /Resources/Icons/globe_icon.svg}"  
                                                               Width="22" 
                                                               Height="22"/>
                                                </Button>
                                                
                                                <Button Background="#3A3A3A"
                                                        BorderThickness="0"
                                                        Width="50"
                                                        Height="50"
                                                        CornerRadius="25"
                                                        Cursor="Hand"
                                                        Command="{Binding CopyMalPageUrlCommand}">
                                                    <PathIcon Data="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z" 
                                                              Width="22" 
                                                              Height="22"
                                                              Foreground="White"
                                                              ToolTip.Tip="Copy page URL to clipboard"/>
                                                </Button>
                                                
                                                <Button Background="#3A3A3A"
                                                        BorderThickness="0"
                                                        Width="50"
                                                        Height="50"
                                                        CornerRadius="25"
                                                        Cursor="Hand"
                                                        Command="{Binding RemoveFromListCommand}"
                                                        IsVisible="{Binding Details.MyListStatus, Converter={x:Static ObjectConverters.IsNotNull} }">
                                                    <Image Source="{SvgImage /Resources/Icons/delete_icon.svg}"  Width="22" 
                                                           Height="22"
                                                           ToolTip.Tip="Remove from list"/>
                                                </Button>
                                            </StackPanel>
                                        </Grid>
                                        
                                        <!-- Trailer, Studio and Popularity Row -->
                                        <Grid Margin="0,0,0,25">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="20"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            
                                            <!-- Trailer -->
                                            <StackPanel Grid.Column="0" Spacing="12" IsVisible="{Binding Details.TrailerURL, Converter={x:Static ObjectConverters.IsNotNull}}">
                                                <TextBlock Text="Trailer" 
                                                           FontSize="12"
                                                           Foreground="#888888"
                                                           FontWeight="SemiBold"
                                                           LetterSpacing="1"/>
                                                <Border Width="120" 
                                                        Height="68" 
                                                        CornerRadius="8"
                                                        Background="#FF4444"
                                                        ClipToBounds="True"
                                                        Cursor="Hand"
                                                        BoxShadow="0 4 16 #40000000"
                                                        Tag="{Binding Details.TrailerURL}"
                                                        Tapped="PlayTrailerVideo">
                                                    <Grid ToolTip.Tip="Play Trailer">
                                                        <Image Stretch="UniformToFill"
                                                               asyncImageLoader:ImageLoader.Source="{Binding Details.Videos[0].Thumbnail}"/>
                                                        <Border Background="#55000000">
                                                            <Ellipse Width="32" 
                                                                     Height="32"
                                                                     Fill="#DDFFFFFF"
                                                                     HorizontalAlignment="Center"
                                                                     VerticalAlignment="Center"/>
                                                        </Border>
                                                        <PathIcon Data="M10 8v8l6-4z"
                                                                  Width="16"
                                                                  Height="16"
                                                                  Foreground="#E50914"
                                                                  HorizontalAlignment="Center"
                                                                  VerticalAlignment="Center"/>
                                                    </Grid>
                                                </Border>
                                            </StackPanel>
                                            
                                            <!-- Studio -->
                                            <StackPanel Grid.Column="2" Spacing="12">
                                                <TextBlock Text="Studio" 
                                                           FontSize="12"
                                                           Foreground="#888888"
                                                           FontWeight="SemiBold"
                                                           LetterSpacing="1"/>
                                                <TextBlock Text="{Binding Details.Studios[0].Name}"
                                                           FontSize="15"
                                                           Foreground="White"
                                                           FontWeight="Medium"/>
                                            </StackPanel>
                                            
                                            <!-- Popularity -->
                                            <StackPanel Grid.Column="4" Spacing="12">
                                                <TextBlock Text="Popularity" 
                                                           FontSize="12"
                                                           Foreground="#888888"
                                                           FontWeight="SemiBold"
                                                           LetterSpacing="1"/>
                                                <StackPanel Orientation="Horizontal" Spacing="6">
                                                    <PathIcon Data="M16 17v2H2v-2s0-4 7-4 7 4 7 4m-3.5-9.5A3.5 3.5 0 1 0 9 11a3.5 3.5 0 0 0 3.5-3.5m3.44 5.5A5.32 5.32 0 0 1 18 17v2h4v-2s0-3.63-6.06-4M15 4a3.39 3.39 0 0 0-1.93.59 5 5 0 0 1 0 5.82A3.39 3.39 0 0 0 15 11a3.5 3.5 0 0 0 0-7z"
                                                              Width="18"
                                                              Height="18"
                                                              Foreground="#FFD700"/>
                                                    <TextBlock Text="{Binding Details.Popularity, StringFormat='{}#{0}'}"
                                                               FontSize="15"
                                                               Foreground="White"
                                                               FontWeight="Medium"
                                                               VerticalAlignment="Center"/>
                                                </StackPanel>
                                            </StackPanel>
                                        </Grid>
                                    </StackPanel>
                                </Grid>
                            </Grid>
                        
                            <Grid Row="1" Margin="50,10,50,60">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="330"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel Grid.Column="1" Margin="40, 0, 0, 0">
                                        <!-- Synopsis -->
                                        <TextBlock Text="{Binding Details.Synopsis}"
                                                   FontSize="15"
                                                   Foreground="#CCCCCC"
                                                   TextWrapping="Wrap"
                                                   LineHeight="24"
                                                   Margin="0,0,0,20"/>
                                            
                                        <!-- Genre Tags -->
                                        <ItemsControl ItemsSource="{Binding Details.Genres}" Margin="0,0,0,20">
                                            <ItemsControl.ItemsPanel>
                                                <ItemsPanelTemplate>
                                                    <WrapPanel Orientation="Horizontal"/>
                                                </ItemsPanelTemplate>
                                            </ItemsControl.ItemsPanel>
                                            <ItemsControl.ItemTemplate>
                                                <DataTemplate DataType="mal:MAL_Genre">
                                                    <Border Background="#44E50914"
                                                            CornerRadius="16"
                                                            Padding="16,8"
                                                            Margin="0,0,10,10">
                                                        <TextBlock Text="{Binding Name}"
                                                                   FontSize="13"
                                                                   Foreground="#FF6B8E"
                                                                   FontWeight="Medium"/>
                                                    </Border>
                                                </DataTemplate>
                                            </ItemsControl.ItemTemplate>
                                        </ItemsControl>
                                        
                                        <TextBlock Text="Videos" 
                                                   FontSize="24"
                                                   Foreground="White"
                                                   FontWeight="Bold"
                                                   Margin="0,0,0,20"
                                                   IsVisible="{Binding Details.Videos, Converter={x:Static ObjectConverters.IsNotNull}}"/>
                                        <ScrollViewer HorizontalScrollBarVisibility="Auto" 
                                                      VerticalScrollBarVisibility="Disabled">
                                            <ItemsControl ItemsSource="{Binding Details.Videos}">
                                                <ItemsControl.ItemsPanel>
                                                    <ItemsPanelTemplate>
                                                        <StackPanel Orientation="Horizontal" Spacing="20"/>
                                                    </ItemsPanelTemplate>
                                                </ItemsControl.ItemsPanel>
                                                <ItemsControl.ItemTemplate>
                                                    <DataTemplate DataType="mal:MAL_Video">
                                                        <Border Width="380"
                                                                Height="214"
                                                                CornerRadius="10"
                                                                ClipToBounds="True"
                                                                BoxShadow="0 6 24 #50000000"
                                                                Cursor="Hand"
                                                                ToolTip.Tip="{Binding Title }">
                                                            <Image asyncImageLoader:ImageLoader.Source="{Binding Thumbnail}"
                                                                   Stretch="UniformToFill"/>
                                                        </Border>
                                                    </DataTemplate>
                                                </ItemsControl.ItemTemplate>
                                            </ItemsControl>
                                        </ScrollViewer>
                                    </StackPanel>
                                </Grid>
                            </Grid>
                        </Grid>
                    </ScrollViewer>
                </TabItem>
                
                <!-- Torrents Tab -->
                <TabItem>
                    <views:TorrentSearchView Margin="30,75,30,0" DataContext="{Binding TorrentSearchViewModel}" />
                </TabItem>
            </TabControl>
            
            <TabStrip 
                Padding="50,20,50,0" 
                SelectedIndex="{Binding #MainTabControl.SelectedIndex, Mode=TwoWay}">
                <TabStripItem Content="Details"/>
                <TabStripItem Content="Torrents"/>
            </TabStrip>
        </Grid>
    </Border>
</UserControl>